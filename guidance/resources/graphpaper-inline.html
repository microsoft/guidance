<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
</head>
<body>
<script>
var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function l(t,e){return t===e||(a||(a=document.createElement("a")),a.href=e,t===a.href)}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e){for(const t of n)t(void 0);return t}const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e){return e&&o(e.destroy)?e.destroy:t}const u="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function w(){return b("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function $(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let E,N;function M(){if(void 0===E){E=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){E=!0}}return E}function T(t){N=t}function A(){if(!N)throw new Error("Function called outside component initialization");return N}function S(t){A().$$.on_mount.push(t)}function C(t){A().$$.on_destroy.push(t)}function R(){const t=A();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const L=[],D=[];let O=[];const I=[],z=Promise.resolve();let F=!1;function P(t){O.push(t)}const U=new Set;let H=0;function j(){if(0!==H)return;const t=N;do{try{for(;H<L.length;){const t=L[H];H++,T(t),B(t.$$)}}catch(t){throw L.length=0,H=0,t}for(T(null),L.length=0,H=0;D.length;)D.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];U.has(e)||(U.add(e),e())}O.length=0}while(L.length);for(;I.length;)I.pop()();F=!1,U.clear(),T(t)}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const W=new Set;let q;function G(){q={r:0,c:[],p:q}}function Y(){q.r||r(q.c),q=q.p}function V(t,e){t&&t.i&&(W.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(W.has(t))return;W.add(t),q.c.push((()=>{W.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function Z(t){return void 0!==t?.length?t:Array.from(t)}function J(t){t&&t.c()}function K(t,n,i){const{fragment:a,after_update:l}=t.$$;a&&a.m(n,i),P((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(P)}function Q(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];O.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),O=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(L.push(t),F||(F=!0,z.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,o,i,a,l,s,c=null,u=[-1]){const d=N;T(e);const p=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};c&&c(p.root);let m=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&tt(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();o.intro&&V(e.$$.fragment),K(e,o.target,o.anchor),j()}T(d)}class nt{$$=void 0;$$set=void 0;$destroy(){Q(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('/*! tailwindcss v3.4.10 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.top-0{top:0}.z-10{z-index:10}.z-50{z-index:50}.mx-4{margin-left:1rem;margin-right:1rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.-mt-4{margin-top:-1rem}.mb-5{margin-bottom:1.25rem}.ml-4{margin-left:1rem}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.size-3{height:.75rem;width:.75rem}.size-4{height:1rem;width:1rem}.h-0{height:0}.h-12{height:3rem}.h-2{height:.5rem}.h-6{height:1.5rem}.h-\\[20px\\]{height:20px}.h-\\[40px\\]{height:40px}.h-\\[6px\\]{height:6px}.h-full{height:100%}.min-h-72{min-height:18rem}.w-12{width:3rem}.w-\\[20px\\]{width:20px}.w-\\[400px\\]{width:400px}.w-\\[40px\\]{width:40px}.w-\\[60px\\]{width:60px}.w-full{width:100%}.min-w-12{min-width:3rem}.min-w-\\[50px\\]{min-width:50px}.flex-grow{flex-grow:1}.basis-full{flex-basis:100%}@keyframes cpulse{50%{opacity:0}}.animate-cpulse{animation:cpulse 3.5s cubic-bezier(.4,0,.6,1) infinite}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-\\[10px\\]{gap:10px}.gap-\\[5px\\]{gap:5px}.whitespace-nowrap{white-space:nowrap}.text-nowrap{text-wrap:nowrap}.rounded-\\[10px\\]{border-radius:10px}.rounded-\\[3px\\]{border-radius:3px}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-\\[\\#2979ff\\]{--tw-bg-opacity:1;background-color:rgb(41 121 255/var(--tw-bg-opacity))}.bg-\\[\\#6c7a89\\]{--tw-bg-opacity:1;background-color:rgb(108 122 137/var(--tw-bg-opacity))}.bg-\\[\\#ddd\\]{--tw-bg-opacity:1;background-color:rgb(221 221 221/var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.fill-gray-700{fill:#374151}.fill-white{fill:#fff}.p-\\[10px\\]{padding:10px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.pb-2{padding-bottom:.5rem}.pb-3{padding-bottom:.75rem}.pb-6{padding-bottom:1.5rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-token{font-family:JetBrains Mono}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.tracking-wide{letter-spacing:.025em}.tracking-wider{letter-spacing:.05em}.text-\\[\\#555\\]{--tw-text-opacity:1;color:rgb(85 85 85/var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-purple-800{--tw-text-opacity:1;color:rgb(107 33 168/var(--tw-text-opacity))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.decoration-2{text-decoration-thickness:2px}.opacity-90{opacity:.9}.opacity-95{opacity:.95}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.hover\\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.group:hover .group-hover\\:fill-gray-100{fill:#f3f4f6}.group:hover .group-hover\\:text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246/var(--tw-text-opacity))}');const rt=[];function ot(e,n=t){let r;const o=new Set;function a(t){if(i(e,t)&&(e=t,r)){const t=!rt.length;for(const t of o)t[1](),rt.push(t,e);if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}function l(t){a(t(e))}return{set:a,update:l,subscribe:function(i,s=t){const c=[i,s];return o.add(c),1===o.size&&(r=n(a,l)||t),i(e),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}function it(t){return null!=t&&"RoleOpenerInput"===t.class_name}function at(t){return null!=t&&"TextOutput"===t.class_name}function lt(t){return null!=t&&"AudioOutput"===t.class_name}var st=ot(void 0),ct=ot(void 0);function ut(t){let e,n;return{c(){e=h("svg"),n=h("polygon"),v(n,"points","5,3 19,12 5,21"),v(e,"class","fill-white w-[20px] h-[20px]"),v(e,"viewBox","0 0 24 24")},m(t,r){p(t,e,r),d(e,n)},d(t){t&&f(e)}}}function dt(t){let e,n,r;return{c(){e=h("svg"),n=h("rect"),r=h("rect"),v(n,"x","6"),v(n,"y","5"),v(n,"width","4"),v(n,"height","14"),v(r,"x","14"),v(r,"y","5"),v(r,"width","4"),v(r,"height","14"),v(e,"class","fill-white w-[20px] h-[20px]"),v(e,"viewBox","0 0 24 24")},m(t,o){p(t,e,o),d(e,n),d(e,r)},d(t){t&&f(e)}}}function pt(e){let n,o,i,a,s,c,u,m,w,E,N,M,T,A,S,C,R,L,D,O,I,z,F,P,U,H=ft(e[5])+"",j=ft(e[4])+"";function B(t,e){return t[2]?dt:ut}let W=B(e),q=W(e);return{c(){n=g("div"),o=g("div"),i=g("div"),q.c(),a=y(),s=g("div"),c=g("canvas"),u=y(),m=g("div"),w=g("div"),E=y(),N=g("div"),M=b(H),T=b(" / "),A=b(j),S=y(),C=g("div"),R=h("svg"),L=h("path"),D=y(),O=g("input"),I=y(),z=g("audio"),v(i,"class","w-[40px] h-[40px] rounded-full bg-[#6c7a89] flex items-center justify-center cursor-pointer"),v(i,"role","button"),v(i,"tabindex","0"),v(i,"aria-label","Toggle playback"),v(c,"class","w-full h-12"),v(w,"class","h-full bg-[#2979ff] rounded-[3px] absolute"),$(w,"width",e[3]+"%"),v(m,"class","h-[6px] bg-[#ddd] rounded-[3px] cursor-pointer relative"),v(m,"role","slider"),v(m,"tabindex","0"),v(m,"aria-label","Seek"),v(m,"aria-valuemin","0"),v(m,"aria-valuemax","100"),v(m,"aria-valuenow",e[3]),v(s,"class","flex flex-col flex-grow gap-1"),v(N,"class","text-sm text-[#555] min-w-[50px]"),v(L,"d","M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.07c1.48-.74 2.5-2.26 2.5-4.04z"),v(R,"class","w-[20px] h-[20px]"),v(R,"viewBox","0 0 24 24"),v(O,"type","range"),v(O,"min","0"),v(O,"max","1"),v(O,"step","0.01"),v(O,"class","w-[60px]"),v(C,"class","flex items-center gap-[5px]"),v(o,"class","flex items-center gap-[10px]"),l(z.src,F="data:audio/wav;base64,"+e[0])||v(z,"src",F),v(z,"class","hidden"),v(n,"class","rounded-[10px] border border-gray-400 bg-white p-[10px] w-[400px]")},m(t,r){p(t,n,r),d(n,o),d(o,i),q.m(i,null),d(o,a),d(o,s),d(s,c),e[13](c),d(s,u),d(s,m),d(m,w),d(o,E),d(o,N),d(N,M),d(N,T),d(N,A),d(o,S),d(o,C),d(C,R),d(R,L),d(C,D),d(C,O),_(O,e[6]),d(n,I),d(n,z),e[15](z),P||(U=[x(i,"click",e[8]),x(i,"keydown",e[8]),x(m,"click",e[10]),x(m,"keydown",e[10]),x(O,"change",e[14]),x(O,"input",e[14]),x(O,"input",e[11]),x(z,"timeupdate",e[9]),x(z,"ended",e[12])],P=!0)},p(t,[e]){W!==(W=B(t))&&(q.d(1),q=W(t),q&&(q.c(),q.m(i,null))),8&e&&$(w,"width",t[3]+"%"),8&e&&v(m,"aria-valuenow",t[3]),32&e&&H!==(H=ft(t[5])+"")&&k(M,H),16&e&&j!==(j=ft(t[4])+"")&&k(A,j),64&e&&_(O,t[6]),1&e&&!l(z.src,F="data:audio/wav;base64,"+t[0])&&v(z,"src",F)},i:t,o:t,d(t){t&&f(n),q.d(),e[13](null),e[15](null),P=!1,r(U)}}}function ft(t){const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n<10?"0":""}${n}`}function mt(t,e,n){let r,o,{audioData:i}=e,a=!1,l=0,s=0,c=0,u=1;async function d(){if(!i||!o)return;const t=new AudioContext,e=function(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let t=0;t<n;t++)r[t]=e.charCodeAt(t);return r.buffer}(i);try{const n=(await t.decodeAudioData(e)).getChannelData(0),r=o;r.width=r.clientWidth,r.height=r.clientHeight;const i=r.width,a=r.height,l=i,s=Math.floor(n.length/l),c=new Array(l);for(let t=0;t<l;t++){let e=0;for(let r=0;r<s;r++)e+=Math.abs(n[t*s+r]);c[t]=e/s}const u=Math.max(...c),d=u>0?1/u:1,p=r.getContext("2d");p.clearRect(0,0,i,a),p.fillStyle="#2979ff";for(let t=0;t<l;t++){const e=t,n=c[t]*d*a,r=(a-n)/2;p.fillRect(e,r,1,n)}}catch(t){console.error("Error decoding audio for waveform:",t)}}return S((()=>{d()})),t.$$set=t=>{"audioData"in t&&n(0,i=t.audioData)},[i,r,a,l,s,c,u,o,function(){r.paused?(r.play(),n(2,a=!0)):(r.pause(),n(2,a=!1))},function(){r&&(n(3,l=r.currentTime/r.duration*100),n(5,c=r.currentTime),n(4,s=r.duration||0))},function(t){const e=t.currentTarget,o=t.offsetX/e.offsetWidth*r.duration;n(1,r.currentTime=o,r)},function(t){n(6,u=t.target.value),n(1,r.volume=u,r)},function(){n(2,a=!1),n(3,l=0),n(5,c=0)},function(t){D[t?"unshift":"push"]((()=>{o=t,n(7,o)}))},function(){var t;t=this.value,u=""===t?null:+t,n(6,u)},function(t){D[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class gt extends nt{constructor(t){super(),et(this,t,mt,pt,i,{audioData:0})}}function ht(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function bt(t){let e,n,r,o,i,a,l=t[4]+"",s=0===t[6]&&function(t){let e,n,r=t[0].role+"";return{c(){e=g("span"),n=b(r),v(e,"class","absolute text-xs uppercase -mt-4 text-purple-800 font-sans")},m(t,r){p(t,e,r),d(e,n)},p(t,e){1&e&&r!==(r=t[0].role+"")&&k(n,r)},d(t){t&&f(e)}}}(t);return{c(){e=g("span"),s&&s.c(),n=y(),r=b(l),o=y(),v(e,"data-index",t[1]),v(e,"role","tooltip"),v(e,"class",i="token-grid-item inline-block mt-2 border-b-2 "+(t[0].special?"text-gray-300":"")),v(e,"style",a=`${t[2]} ${t[3]}`)},m(t,i){p(t,e,i),s&&s.m(e,null),d(e,n),d(e,r),d(e,o)},p(t,n){0===t[6]&&s.p(t,n),1&n&&l!==(l=t[4]+"")&&k(r,l),2&n&&v(e,"data-index",t[1]),1&n&&i!==(i="token-grid-item inline-block mt-2 border-b-2 "+(t[0].special?"text-gray-300":""))&&v(e,"class",i),12&n&&a!==(a=`${t[2]} ${t[3]}`)&&v(e,"style",a)},d(t){t&&f(e),s&&s.d()}}}function yt(t){let e,n,r,o,i,a=0===t[6]&&function(t){let e,n,r=t[0].role+"";return{c(){e=g("span"),n=b(r),v(e,"class","absolute text-xs uppercase -mt-4 text-purple-800 font-sans")},m(t,r){p(t,e,r),d(e,n)},p(t,e){1&e&&r!==(r=t[0].role+"")&&k(n,r)},d(t){t&&f(e)}}}(t);return{c(){e=g("span"),a&&a.c(),n=b("\n            \\n"),o=y(),i=g("div"),v(e,"data-index",t[1]),v(e,"role","tooltip"),v(e,"class","token-grid-item inline-block mt-2 border-b-2 text-gray-300"),v(e,"style",r=`${t[2]} ${t[3]}`),v(i,"class","basis-full h-full")},m(t,r){p(t,e,r),a&&a.m(e,null),d(e,n),p(t,o,r),p(t,i,r)},p(t,n){0===t[6]&&a.p(t,n),2&n&&v(e,"data-index",t[1]),12&n&&r!==(r=`${t[2]} ${t[3]}`)&&v(e,"style",r)},d(t){t&&(f(e),f(o),f(i)),a&&a.d()}}}function wt(t){let e,n,r,o=0===t[6]&&function(t){let e,n,r=t[0].role+"";return{c(){e=g("span"),n=b(r),v(e,"class","absolute text-xs uppercase -mt-4 text-purple-800 font-sans")},m(t,r){p(t,e,r),d(e,n)},p(t,e){1&e&&r!==(r=t[0].role+"")&&k(n,r)},d(t){t&&f(e)}}}(t);return{c(){e=g("span"),o&&o.c(),n=b("\n            \\t  \n        "),v(e,"data-index",t[1]),v(e,"role","tooltip"),v(e,"class","token-grid-item inline-block mt-2 border-b-2 text-gray-300"),v(e,"style",r=`${t[2]} ${t[3]}`)},m(t,r){p(t,e,r),o&&o.m(e,null),d(e,n)},p(t,n){0===t[6]&&o.p(t,n),2&n&&v(e,"data-index",t[1]),12&n&&r!==(r=`${t[2]} ${t[3]}`)&&v(e,"style",r)},d(t){t&&f(e),o&&o.d()}}}function xt(t){let e,n,r,o=0===t[6]&&function(t){let e,n,r=t[0].role+"";return{c(){e=g("span"),n=b(r),v(e,"class","absolute text-xs uppercase -mt-4 text-purple-800 font-sans")},m(t,r){p(t,e,r),d(e,n)},p(t,e){1&e&&r!==(r=t[0].role+"")&&k(n,r)},d(t){t&&f(e)}}}(t);return{c(){e=g("span"),o&&o.c(),n=b("\n             \n        "),v(e,"data-index",t[1]),v(e,"role","tooltip"),v(e,"class","token-grid-item inline-block mt-2 border-b-2 text-gray-300"),v(e,"style",r=`${t[2]} ${t[3]}`)},m(t,r){p(t,e,r),o&&o.m(e,null),d(e,n)},p(t,n){0===t[6]&&o.p(t,n),2&n&&v(e,"data-index",t[1]),12&n&&r!==(r=`${t[2]} ${t[3]}`)&&v(e,"style",r)},d(t){t&&f(e),o&&o.d()}}}function vt(t){let e;function n(t,e){return" "===t[4]?xt:"\t"===t[4]?wt:"\n"===t[4]?yt:bt}let r=n(t),o=r(t);return{c(){o.c(),e=w()},m(t,n){o.m(t,n),p(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){t&&f(e),o.d(t)}}}function kt(e){let n,r=Z(e[0].text),o=[];for(let t=0;t<r.length;t+=1)o[t]=vt(ht(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=w()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);p(t,n,e)},p(t,[e]){if(15&e){let i;for(r=Z(t[0].text),i=0;i<r.length;i+=1){const a=ht(t,r,i);o[i]?o[i].p(a,e):(o[i]=vt(a),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&f(n),m(o,t)}}}function _t(t,e,n){let{token:r}=e,{index:o}=e,{underlineStyle:i=""}=e,{bgStyle:a=""}=e;return t.$$set=t=>{"token"in t&&n(0,r=t.token),"index"in t&&n(1,o=t.index),"underlineStyle"in t&&n(2,i=t.underlineStyle),"bgStyle"in t&&n(3,a=t.bgStyle)},[r,o,i,a]}class $t extends nt{constructor(t){super(),et(this,t,_t,kt,i,{token:0,index:1,underlineStyle:2,bgStyle:3})}}function Et(t,e){var n,r=function(r){n=setTimeout((function(){t.dispatchEvent(new CustomEvent("longmouseover",{detail:r}))}),e)},o=function(e){clearTimeout(n),t.dispatchEvent(new CustomEvent("longmouseout",{detail:e}))};return t.addEventListener("mouseover",r),t.addEventListener("mouseout",o),{update:function(t){e=t},destroy:function(){t.removeEventListener("mouseover",r),t.removeEventListener("mouseout",o)}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mt={exports:{}};
/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */Mt.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:s,construct:c}="undefined"!=typeof Reflect&&Reflect;i||(i=function(t){return t}),a||(a=function(t){return t}),s||(s=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=k(Array.prototype.forEach),d=k(Array.prototype.pop),p=k(Array.prototype.push),f=k(String.prototype.toLowerCase),m=k(String.prototype.toString),g=k(String.prototype.match),h=k(String.prototype.replace),b=k(String.prototype.indexOf),y=k(String.prototype.trim),w=k(Object.prototype.hasOwnProperty),x=k(RegExp.prototype.test),v=_(TypeError);function k(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(t,e,r)}}function _(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}function $(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;e&&e(t,null);let i=r.length;for(;i--;){let e=r[i];if("string"==typeof e){const t=o(e);t!==e&&(n(r)||(r[i]=t),e=t)}t[e]=!0}return t}function E(t){for(let e=0;e<t.length;e++)w(t,e)||(t[e]=null);return t}function N(e){const n=l(null);for(const[r,o]of t(e))w(e,r)&&(Array.isArray(o)?n[r]=E(o):o&&"object"==typeof o&&o.constructor===Object?n[r]=N(o):n[r]=o);return n}function M(t,e){for(;null!==t;){const n=o(t,e);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}t=r(t)}function n(){return null}return n}const T=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=i(["#text"]),O=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),I=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=a(/<%[\w\W]*|[\w\W]*%>/gm),H=a(/\${[\w\W]*}/gm),j=a(/^data-[\-\w.\u00B7-\uFFFF]/),B=a(/^aria-[\-\w]+$/),W=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=a(/^(?:\w+script|data):/i),G=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=a(/^html$/i),V=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var X=Object.freeze({__proto__:null,MUSTACHE_EXPR:P,ERB_EXPR:U,TMPLIT_EXPR:H,DATA_ATTR:j,ARIA_ATTR:B,IS_ALLOWED_URI:W,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:G,DOCTYPE_NAME:Y,CUSTOM_ELEMENT:V});const Z={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},J=function(){return"undefined"==typeof window?null:window},K=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();const n=t=>Q(t);if(n.version="3.1.7",n.removed=[],!e||!e.document||e.document.nodeType!==Z.document)return n.isSupported=!1,n;let{document:r}=e;const o=r,a=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:c,Node:k,Element:_,NodeFilter:E,NamedNodeMap:P=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:U,DOMParser:H,trustedTypes:j}=e,B=_.prototype,q=M(B,"cloneNode"),G=M(B,"remove"),V=M(B,"nextSibling"),tt=M(B,"childNodes"),et=M(B,"parentNode");if("function"==typeof c){const t=r.createElement("template");t.content&&t.content.ownerDocument&&(r=t.content.ownerDocument)}let nt,rt="";const{implementation:ot,createNodeIterator:it,createDocumentFragment:at,getElementsByTagName:lt}=r,{importNode:st}=o;let ct={};n.isSupported="function"==typeof t&&"function"==typeof et&&ot&&void 0!==ot.createHTMLDocument;const{MUSTACHE_EXPR:ut,ERB_EXPR:dt,TMPLIT_EXPR:pt,DATA_ATTR:ft,ARIA_ATTR:mt,IS_SCRIPT_OR_DATA:gt,ATTR_WHITESPACE:ht,CUSTOM_ELEMENT:bt}=X;let{IS_ALLOWED_URI:yt}=X,wt=null;const xt=$({},[...T,...A,...S,...R,...D]);let vt=null;const kt=$({},[...O,...I,...z,...F]);let _t=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,Et=null,Nt=!0,Mt=!0,Tt=!1,At=!0,St=!1,Ct=!0,Rt=!1,Lt=!1,Dt=!1,Ot=!1,It=!1,zt=!1,Ft=!0,Pt=!1;const Ut="user-content-";let Ht=!0,jt=!1,Bt={},Wt=null;const qt=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Gt=null;const Yt=$({},["audio","video","img","source","image","track"]);let Vt=null;const Xt=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Jt="http://www.w3.org/2000/svg",Kt="http://www.w3.org/1999/xhtml";let Qt=Kt,te=!1,ee=null;const ne=$({},[Zt,Jt,Kt],m);let re=null;const oe=["application/xhtml+xml","text/html"],ie="text/html";let ae=null,le=null;const se=r.createElement("form"),ce=function(t){return t instanceof RegExp||t instanceof Function},ue=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!le||le!==t){if(t&&"object"==typeof t||(t={}),t=N(t),re=-1===oe.indexOf(t.PARSER_MEDIA_TYPE)?ie:t.PARSER_MEDIA_TYPE,ae="application/xhtml+xml"===re?m:f,wt=w(t,"ALLOWED_TAGS")?$({},t.ALLOWED_TAGS,ae):xt,vt=w(t,"ALLOWED_ATTR")?$({},t.ALLOWED_ATTR,ae):kt,ee=w(t,"ALLOWED_NAMESPACES")?$({},t.ALLOWED_NAMESPACES,m):ne,Vt=w(t,"ADD_URI_SAFE_ATTR")?$(N(Xt),t.ADD_URI_SAFE_ATTR,ae):Xt,Gt=w(t,"ADD_DATA_URI_TAGS")?$(N(Yt),t.ADD_DATA_URI_TAGS,ae):Yt,Wt=w(t,"FORBID_CONTENTS")?$({},t.FORBID_CONTENTS,ae):qt,$t=w(t,"FORBID_TAGS")?$({},t.FORBID_TAGS,ae):{},Et=w(t,"FORBID_ATTR")?$({},t.FORBID_ATTR,ae):{},Bt=!!w(t,"USE_PROFILES")&&t.USE_PROFILES,Nt=!1!==t.ALLOW_ARIA_ATTR,Mt=!1!==t.ALLOW_DATA_ATTR,Tt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,St=t.SAFE_FOR_TEMPLATES||!1,Ct=!1!==t.SAFE_FOR_XML,Rt=t.WHOLE_DOCUMENT||!1,Ot=t.RETURN_DOM||!1,It=t.RETURN_DOM_FRAGMENT||!1,zt=t.RETURN_TRUSTED_TYPE||!1,Dt=t.FORCE_BODY||!1,Ft=!1!==t.SANITIZE_DOM,Pt=t.SANITIZE_NAMED_PROPS||!1,Ht=!1!==t.KEEP_CONTENT,jt=t.IN_PLACE||!1,yt=t.ALLOWED_URI_REGEXP||W,Qt=t.NAMESPACE||Kt,_t=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ce(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_t.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ce(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_t.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_t.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),St&&(Mt=!1),It&&(Ot=!0),Bt&&(wt=$({},D),vt=[],!0===Bt.html&&($(wt,T),$(vt,O)),!0===Bt.svg&&($(wt,A),$(vt,I),$(vt,F)),!0===Bt.svgFilters&&($(wt,S),$(vt,I),$(vt,F)),!0===Bt.mathMl&&($(wt,R),$(vt,z),$(vt,F))),t.ADD_TAGS&&(wt===xt&&(wt=N(wt)),$(wt,t.ADD_TAGS,ae)),t.ADD_ATTR&&(vt===kt&&(vt=N(vt)),$(vt,t.ADD_ATTR,ae)),t.ADD_URI_SAFE_ATTR&&$(Vt,t.ADD_URI_SAFE_ATTR,ae),t.FORBID_CONTENTS&&(Wt===qt&&(Wt=N(Wt)),$(Wt,t.FORBID_CONTENTS,ae)),Ht&&(wt["#text"]=!0),Rt&&$(wt,["html","head","body"]),wt.table&&($(wt,["tbody"]),delete $t.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');nt=t.TRUSTED_TYPES_POLICY,rt=nt.createHTML("")}else void 0===nt&&(nt=K(j,a)),null!==nt&&"string"==typeof rt&&(rt=nt.createHTML(""));i&&i(t),le=t}},de=$({},["mi","mo","mn","ms","mtext"]),pe=$({},["annotation-xml"]),fe=$({},["title","style","font","a","script"]),me=$({},[...A,...S,...C]),ge=$({},[...R,...L]),he=function(t){let e=et(t);e&&e.tagName||(e={namespaceURI:Qt,tagName:"template"});const n=f(t.tagName),r=f(e.tagName);return!!ee[t.namespaceURI]&&(t.namespaceURI===Jt?e.namespaceURI===Kt?"svg"===n:e.namespaceURI===Zt?"svg"===n&&("annotation-xml"===r||de[r]):Boolean(me[n]):t.namespaceURI===Zt?e.namespaceURI===Kt?"math"===n:e.namespaceURI===Jt?"math"===n&&pe[r]:Boolean(ge[n]):t.namespaceURI===Kt?!(e.namespaceURI===Jt&&!pe[r])&&!(e.namespaceURI===Zt&&!de[r])&&!ge[n]&&(fe[n]||!me[n]):!("application/xhtml+xml"!==re||!ee[t.namespaceURI]))},be=function(t){p(n.removed,{element:t});try{et(t).removeChild(t)}catch(e){G(t)}},ye=function(t,e){try{p(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){p(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!vt[t])if(Ot||It)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},we=function(t){let e=null,n=null;if(Dt)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===re&&Qt===Kt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const o=nt?nt.createHTML(t):t;if(Qt===Kt)try{e=(new H).parseFromString(o,re)}catch(t){}if(!e||!e.documentElement){e=ot.createDocument(Qt,"template",null);try{e.documentElement.innerHTML=te?rt:o}catch(t){}}const i=e.body||e.documentElement;return t&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Qt===Kt?lt.call(e,Rt?"html":"body")[0]:Rt?e.documentElement:i},xe=function(t){return it.call(t.ownerDocument||t,t,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},ve=function(t){return t instanceof U&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ke=function(t){return"function"==typeof k&&t instanceof k},_e=function(t,e,r){ct[t]&&u(ct[t],(t=>{t.call(n,e,r,le)}))},$e=function(t){let e=null;if(_e("beforeSanitizeElements",t,null),ve(t))return be(t),!0;const r=ae(t.nodeName);if(_e("uponSanitizeElement",t,{tagName:r,allowedTags:wt}),t.hasChildNodes()&&!ke(t.firstElementChild)&&x(/<[/\w]/g,t.innerHTML)&&x(/<[/\w]/g,t.textContent))return be(t),!0;if(t.nodeType===Z.progressingInstruction)return be(t),!0;if(Ct&&t.nodeType===Z.comment&&x(/<[/\w]/g,t.data))return be(t),!0;if(!wt[r]||$t[r]){if(!$t[r]&&Ne(r)){if(_t.tagNameCheck instanceof RegExp&&x(_t.tagNameCheck,r))return!1;if(_t.tagNameCheck instanceof Function&&_t.tagNameCheck(r))return!1}if(Ht&&!Wt[r]){const e=et(t)||t.parentNode,n=tt(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r){const o=q(n[r],!0);o.__removalCount=(t.__removalCount||0)+1,e.insertBefore(o,V(t))}}return be(t),!0}return t instanceof _&&!he(t)?(be(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!x(/<\/no(script|embed|frames)/i,t.innerHTML)?(St&&t.nodeType===Z.text&&(e=t.textContent,u([ut,dt,pt],(t=>{e=h(e,t," ")})),t.textContent!==e&&(p(n.removed,{element:t.cloneNode()}),t.textContent=e)),_e("afterSanitizeElements",t,null),!1):(be(t),!0)},Ee=function(t,e,n){if(Ft&&("id"===e||"name"===e)&&(n in r||n in se))return!1;if(Mt&&!Et[e]&&x(ft,e));else if(Nt&&x(mt,e));else if(!vt[e]||Et[e]){if(!(Ne(t)&&(_t.tagNameCheck instanceof RegExp&&x(_t.tagNameCheck,t)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(t))&&(_t.attributeNameCheck instanceof RegExp&&x(_t.attributeNameCheck,e)||_t.attributeNameCheck instanceof Function&&_t.attributeNameCheck(e))||"is"===e&&_t.allowCustomizedBuiltInElements&&(_t.tagNameCheck instanceof RegExp&&x(_t.tagNameCheck,n)||_t.tagNameCheck instanceof Function&&_t.tagNameCheck(n))))return!1}else if(Vt[e]);else if(x(yt,h(n,ht,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==b(n,"data:")||!Gt[t])if(Tt&&!x(gt,h(n,ht,"")));else if(n)return!1;return!0},Ne=function(t){return"annotation-xml"!==t&&g(t,bt)},Me=function(t){_e("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:vt};let o=e.length;for(;o--;){const i=e[o],{name:a,namespaceURI:l,value:s}=i,c=ae(a);let p="value"===a?s:y(s);if(r.attrName=c,r.attrValue=p,r.keepAttr=!0,r.forceKeepAttr=void 0,_e("uponSanitizeAttribute",t,r),p=r.attrValue,r.forceKeepAttr)continue;if(ye(a,t),!r.keepAttr)continue;if(!At&&x(/\/>/i,p)){ye(a,t);continue}St&&u([ut,dt,pt],(t=>{p=h(p,t," ")}));const f=ae(t.nodeName);if(Ee(f,c,p))if(!Pt||"id"!==c&&"name"!==c||(ye(a,t),p=Ut+p),Ct&&x(/((--!?|])>)|<\/(style|title)/i,p))ye(a,t);else{if(nt&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(l);else switch(j.getAttributeType(f,c)){case"TrustedHTML":p=nt.createHTML(p);break;case"TrustedScriptURL":p=nt.createScriptURL(p)}try{l?t.setAttributeNS(l,a,p):t.setAttribute(a,p),ve(t)?be(t):d(n.removed)}catch(t){}}}_e("afterSanitizeAttributes",t,null)},Te=function t(e){let n=null;const r=xe(e);for(_e("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)_e("uponSanitizeShadowNode",n,null),$e(n)||(n.content instanceof s&&t(n.content),Me(n));_e("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,a=null,l=null;if(te=!t,te&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ke(t)){if("function"!=typeof t.toString)throw v("toString is not a function");if("string"!=typeof(t=t.toString()))throw v("dirty is not a string, aborting")}if(!n.isSupported)return t;if(Lt||ue(e),n.removed=[],"string"==typeof t&&(jt=!1),jt){if(t.nodeName){const e=ae(t.nodeName);if(!wt[e]||$t[e])throw v("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof k)r=we("\x3c!----\x3e"),i=r.ownerDocument.importNode(t,!0),i.nodeType===Z.element&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!Ot&&!St&&!Rt&&-1===t.indexOf("<"))return nt&&zt?nt.createHTML(t):t;if(r=we(t),!r)return Ot?null:zt?rt:""}r&&Dt&&be(r.firstChild);const c=xe(jt?t:r);for(;a=c.nextNode();)$e(a)||(a.content instanceof s&&Te(a.content),Me(a));if(jt)return t;if(Ot){if(It)for(l=at.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(vt.shadowroot||vt.shadowrootmode)&&(l=st.call(o,l,!0)),l}let d=Rt?r.outerHTML:r.innerHTML;return Rt&&wt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&x(Y,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),St&&u([ut,dt,pt],(t=>{d=h(d,t," ")})),nt&&zt?nt.createHTML(d):d},n.setConfig=function(){ue(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Lt=!0},n.clearConfig=function(){le=null,Lt=!1},n.isValidAttribute=function(t,e,n){le||ue({});const r=ae(t),o=ae(e);return Ee(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(ct[t]=ct[t]||[],p(ct[t],e))},n.removeHook=function(t){if(ct[t])return d(ct[t])},n.removeHooks=function(t){ct[t]&&(ct[t]=[])},n.removeAllHooks=function(){ct={}},n}var tt=Q();return tt}();var Tt=Nt(Mt.exports);function At(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function St(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rt(){}var Lt=.7,Dt=1/Lt,Ot="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,Pt=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),Ut=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Ht=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${It}\\)$`),jt=new RegExp(`^rgba\\(${zt},${zt},${zt},${It}\\)$`),Bt=new RegExp(`^hsl\\(${It},${zt},${zt}\\)$`),Wt=new RegExp(`^hsla\\(${It},${zt},${zt},${It}\\)$`),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gt(){return this.rgb().formatHex()}function Yt(){return this.rgb().formatRgb()}function Vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xt(e):3===n?new Kt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Zt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pt.exec(t))?new Kt(e[1],e[2],e[3],1):(e=Ut.exec(t))?new Kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ht.exec(t))?Zt(e[1],e[2],e[3],e[4]):(e=jt.exec(t))?Zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bt.exec(t))?oe(e[1],e[2]/100,e[3]/100,1):(e=Wt.exec(t))?oe(e[1],e[2]/100,e[3]/100,e[4]):qt.hasOwnProperty(t)?Xt(qt[t]):"transparent"===t?new Kt(NaN,NaN,NaN,0):null}function Xt(t){return new Kt(t>>16&255,t>>8&255,255&t,1)}function Zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kt(t,e,n,r)}function Jt(t,e,n,r){return 1===arguments.length?((o=t)instanceof Rt||(o=Vt(o)),o?new Kt((o=o.rgb()).r,o.g,o.b,o.opacity):new Kt):new Kt(t,e,n,null==r?1:r);var o}function Kt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qt(){return`#${re(this.r)}${re(this.g)}${re(this.b)}`}function te(){const t=ee(this.opacity);return`${1===t?"rgb(":"rgba("}${ne(this.r)}, ${ne(this.g)}, ${ne(this.b)}${1===t?")":`, ${t})`}`}function ee(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function re(t){return((t=ne(t))<16?"0":"")+t.toString(16)}function oe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ae(t,e,n,r)}function ie(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=Vt(t)),!t)return new ae;if(t instanceof ae)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new ae(a,l,s,t.opacity)}function ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function le(t){return(t=(t||0)%360)<0?t+360:t}function se(t){return Math.max(0,Math.min(1,t||0))}function ce(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}St(Rt,Vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gt,formatHex:Gt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ie(this).formatHsl()},formatRgb:Yt,toString:Yt}),St(Kt,Jt,Ct(Rt,{brighter(t){return t=null==t?Dt:Math.pow(Dt,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Lt:Math.pow(Lt,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kt(ne(this.r),ne(this.g),ne(this.b),ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qt,formatHex:Qt,formatHex8:function(){return`#${re(this.r)}${re(this.g)}${re(this.b)}${re(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:te,toString:te})),St(ae,(function(t,e,n,r){return 1===arguments.length?ie(t):new ae(t,e,n,null==r?1:r)}),Ct(Rt,{brighter(t){return t=null==t?Dt:Math.pow(Dt,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Lt:Math.pow(Lt,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Kt(ce(t>=240?t-240:t+120,o,r),ce(t,o,r),ce(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new ae(le(this.h),se(this.s),se(this.l),ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ee(this.opacity);return`${1===t?"hsl(":"hsla("}${le(this.h)}, ${100*se(this.s)}%, ${100*se(this.l)}%${1===t?")":`, ${t})`}`}}));var ue=t=>()=>t;function de(t){return 1==(t=+t)?pe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ue(isNaN(e)?n:e)}}function pe(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ue(isNaN(t)?e:t)}var fe=function t(e){var n=de(e);function r(t,e){var r=n((t=Jt(t)).r,(e=Jt(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=pe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var me,ge=(me=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,l=r<e-1?t[r+2]:2*i-o;return function(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}((n-r/e)*e,a,o,i,l)}},function(t){var e,n,r=t.length,o=new Array(r),i=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Jt(t[e]),o[e]=n.r||0,i[e]=n.g||0,a[e]=n.b||0;return o=me(o),i=me(i),a=me(a),n.opacity=1,function(t){return n.r=o(t),n.g=i(t),n.b=a(t),n+""}});function he(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function be(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=$e(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function ye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function we(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xe(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=$e(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ke=new RegExp(ve.source,"g");function _e(t,e){var n,r,o,i=ve.lastIndex=ke.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=ve.exec(t))&&(r=ke.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:we(n,r)})),i=ke.lastIndex;return i<e.length&&(o=e.slice(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function $e(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?ue(e):("number"===o?we:"string"===o?(n=Vt(e))?(e=n,fe):_e:e instanceof Vt?fe:e instanceof Date?ye:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?be:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?xe:we:he))(t,e)}function Ee(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ne=t=>ge(t[t.length-1]),Me=Ne(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(At)),Te=Ne(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(At));function Ae(t,e,n){const r=t.slice();return r[38]=e[n],r[40]=n,r}function Se(t,e,n){const r=t.slice();return r[41]=e[n],r}function Ce(t,e,n){const r=t.slice();return r[44]=e[n],r[40]=n,r}function Re(e){let n;return{c(){n=g("div"),n.textContent="Missing tokens will show on completion.",v(n,"class","text-sm border-b text-red-700")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Le(t){let e,n,r,o,i,a,l,s,c,u;o=new $t({props:{token:t[11],index:-1,underlineStyle:t[6](t[11]),bgStyle:t[7](t[11])}});let m="None"!==t[2]&&De(t),h="None"!==t[3]&&Oe(t),b=void 0!==t[11].top_k&&Ie(t);return{c(){e=g("div"),n=g("div"),r=g("div"),J(o.$$.fragment),i=y(),a=g("table"),l=g("tbody"),m&&m.c(),s=y(),h&&h.c(),c=y(),b&&b.c(),v(r,"class","mb-5 mt-1"),v(l,"class","text-xs tracking-wider"),v(a,"class","w-full"),v(n,"class","text-2xl px-1 pb-1 text-left w-full bg-white"),v(e,"class","col-1 flex flex-col items-center")},m(t,f){p(t,e,f),d(e,n),d(n,r),K(o,r,null),d(n,i),d(n,a),d(a,l),m&&m.m(l,null),d(l,s),h&&h.m(l,null),d(e,c),b&&b.m(e,null),u=!0},p(t,n){const r={};2048&n[0]&&(r.token=t[11]),2112&n[0]&&(r.underlineStyle=t[6](t[11])),2176&n[0]&&(r.bgStyle=t[7](t[11])),o.$set(r),"None"!==t[2]?m?m.p(t,n):(m=De(t),m.c(),m.m(l,s)):m&&(m.d(1),m=null),"None"!==t[3]?h?h.p(t,n):(h=Oe(t),h.c(),h.m(l,null)):h&&(h.d(1),h=null),void 0!==t[11].top_k?b?b.p(t,n):(b=Ie(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i(t){u||(V(o.$$.fragment,t),u=!0)},o(t){X(o.$$.fragment,t),u=!1},d(t){t&&f(e),Q(o),m&&m.d(),h&&h.d(),b&&b.d()}}}function De(t){let e,n,r,o,i,a,l,s,c,u=t[12](t[11],t[2])+"";return{c(){e=g("tr"),n=g("td"),r=g("span"),o=b(t[2]),a=y(),l=g("td"),s=g("span"),c=b(u),v(r,"style",i=t[7](t[11])),v(s,"class","pl-1"),v(l,"class","text-right")},m(t,i){p(t,e,i),d(e,n),d(n,r),d(r,o),d(e,a),d(e,l),d(l,s),d(s,c)},p(t,e){4&e[0]&&k(o,t[2]),2176&e[0]&&i!==(i=t[7](t[11]))&&v(r,"style",i),2052&e[0]&&u!==(u=t[12](t[11],t[2])+"")&&k(c,u)},d(t){t&&f(e)}}}function Oe(t){let e,n,r,o,i,a,l,s,c,u=t[12](t[11],t[3])+"";return{c(){e=g("tr"),n=g("td"),r=g("span"),o=b(t[3]),a=y(),l=g("td"),s=g("span"),c=b(u),v(r,"class","border-b-2"),v(r,"style",i=t[6](t[11])),v(l,"class","text-right")},m(t,i){p(t,e,i),d(e,n),d(n,r),d(r,o),d(e,a),d(e,l),d(l,s),d(s,c)},p(t,e){8&e[0]&&k(o,t[3]),2112&e[0]&&i!==(i=t[6](t[11]))&&v(r,"style",i),2056&e[0]&&u!==(u=t[12](t[11],t[3])+"")&&k(c,u)},d(t){t&&f(e)}}}function Ie(t){let e,n,r,o,i,a,l=Z(t[11].top_k),s=[];for(let e=0;e<l.length;e+=1)s[e]=ze(Ce(t,l,e));return{c(){e=g("hr"),n=y(),r=g("table"),o=g("thead"),o.innerHTML='<tr><th class="px-1 pb-1 font-normal text-xs text-left text-gray-700 tracking-wide">Candidate</th> <th class="px-1 pb-1 font-normal text-xs text-right text-gray-700 tracking-wide">Prob</th></tr>',i=y(),a=g("tbody");for(let t=0;t<s.length;t+=1)s[t].c();v(e,"class","bg-gray-400 w-full my-2"),v(r,"class","w-full")},m(t,l){p(t,e,l),p(t,n,l),p(t,r,l),d(r,o),d(r,i),d(r,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(a,null)},p(t,e){if(264192&e[0]){let n;for(l=Z(t[11].top_k),n=0;n<l.length;n+=1){const r=Ce(t,l,n);s[n]?s[n].p(r,e):(s[n]=ze(r),s[n].c(),s[n].m(a,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},d(t){t&&(f(e),f(n),f(r)),m(s,t)}}}function ze(t){let e,n,r,o,i,a,l,s,c,u=t[18](t[44].text)+"",m=t[44].prob.toFixed(3)+"";return{c(){e=g("tr"),n=g("td"),r=g("span"),i=y(),a=g("td"),l=b(m),c=y(),v(r,"class","bg-gray-200"),v(n,"class",o="px-1 text-left font-mono text-sm decoration-2 "+(t[44].is_masked?"line-through":"")),v(a,"class",s="px-1 text-right font-mono text-sm decoration-2 "+(t[44].is_masked?"line-through":"")),v(e,"class",""+(5===t[40]?"border-t border-dashed border-gray-300":""))},m(t,o){p(t,e,o),d(e,n),d(n,r),r.innerHTML=u,d(e,i),d(e,a),d(a,l),d(e,c)},p(t,e){2048&e[0]&&u!==(u=t[18](t[44].text)+"")&&(r.innerHTML=u),2048&e[0]&&o!==(o="px-1 text-left font-mono text-sm decoration-2 "+(t[44].is_masked?"line-through":""))&&v(n,"class",o),2048&e[0]&&m!==(m=t[44].prob.toFixed(3)+"")&&k(l,m),2048&e[0]&&s!==(s="px-1 text-right font-mono text-sm decoration-2 "+(t[44].is_masked?"line-through":""))&&v(a,"class",s)},d(t){t&&f(e)}}}function Fe(e){let n,r,o,i;return n=new $t({props:{token:e[19],index:-1}}),{c(){J(n.$$.fragment),r=y(),o=g("div"),v(o,"class","basis-full h-2")},m(t,e){K(n,t,e),p(t,r,e),p(t,o,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){X(n.$$.fragment,t),i=!1},d(t){t&&(f(r),f(o)),Q(n,t)}}}function Pe(t){let e;let n=function(t){return 0===t[40]?He:Ue}(t),r=n(t);return{c(){r.c(),e=w()},m(t,n){r.m(t,n),p(t,e,n)},d(t){t&&f(e),r.d(t)}}}function Ue(t){let e,n,r=Z({length:2}),o=[];for(let e=0;e<r.length;e+=1)o[e]=je(Se(t,r,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y(),n=g("div"),v(n,"class","basis-full h-0")},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);p(t,e,r),p(t,n,r)},d(t){t&&(f(e),f(n)),m(o,t)}}}function He(t){let e;return{c(){e=g("div"),v(e,"class","basis-full h-2")},m(t,n){p(t,e,n)},d(t){t&&f(e)}}}function je(e){let n,r,o;return{c(){n=g("div"),r=y(),o=g("span"),o.textContent=" ",v(n,"class","basis-full h-0"),v(o,"class","inline-block")},m(t,e){p(t,n,e),p(t,r,e),p(t,o,e)},p:t,d(t){t&&(f(n),f(r),f(o))}}}function Be(t){let e,n,r,o=!0===t[38].special&&""!==t[38].role&&Pe(t);return n=new $t({props:{token:t[38],index:t[40],underlineStyle:t[6](t[38]),bgStyle:t[7](t[38])}}),{c(){o&&o.c(),e=y(),J(n.$$.fragment)},m(t,i){o&&o.m(t,i),p(t,e,i),K(n,t,i),r=!0},p(t,r){!0===t[38].special&&""!==t[38].role?o||(o=Pe(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null);const i={};32&r[0]&&(i.token=t[38]),96&r[0]&&(i.underlineStyle=t[6](t[38])),160&r[0]&&(i.bgStyle=t[7](t[38])),n.$set(i)},i(t){r||(V(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){t&&f(e),o&&o.d(t),Q(n,t)}}}function We(t){let e,n,r;return n=new gt({props:{audioData:t[4].value}}),{c(){e=g("div"),J(n.$$.fragment),v(e,"class","mx-4")},m(t,o){p(t,e,o),K(n,e,null),r=!0},p(t,e){const r={};16&e[0]&&(r.audioData=t[4].value),n.$set(r)},i(t){r||(V(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){t&&f(e),Q(n)}}}function qe(t){let e;return{c(){e=g("span"),e.textContent=" ",v(e,"class","inline-block mt-2 border-b-2 border-white bg-gray-700 animate-cpulse")},m(t,n){p(t,e,n)},d(t){t&&f(e)}}}function Ge(t){let e,n,o,i,a,l,s,u,h,b,w,k,_,E;const N=[Le,Re],M=[];function T(t,e){return t[11]?0:1}o=T(t),i=M[o]=N[o](t);let A=t[1]&&Fe(t),S=Z(t[5]),C=[];for(let e=0;e<S.length;e+=1)C[e]=Be(Ae(t,S,e));const R=t=>X(C[t],1,1,(()=>{C[t]=null}));let L=null!==t[4]&&We(t),D=!1===t[0]&&qe();return{c(){e=g("div"),n=g("div"),i.c(),a=y(),l=g("div"),s=g("div"),u=g("span"),A&&A.c(),h=y();for(let t=0;t<C.length;t+=1)C[t].c();b=y(),L&&L.c(),w=y(),D&&D.c(),v(e,"class","px-1 pt-1 pb-3 absolute opacity-95 bg-white shadow border border-gray-300 pointer-events-none z-50"),$(e,"top",t[10]+"px"),$(e,"left",t[9]+"px"),$(e,"display","none"),v(u,"class","flex flex-wrap text-sm"),v(u,"role","main"),v(s,"class","px-4"),v(l,"class","pt-6 pb-6 flex text-gray-800 font-token")},m(r,i){p(r,e,i),d(e,n),M[o].m(n,null),t[28](e),p(r,a,i),p(r,l,i),d(l,s),d(s,u),A&&A.m(u,null),d(u,h);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(u,null);d(u,b),L&&L.m(u,null),d(u,w),D&&D.m(u,null),k=!0,_||(E=[c(Et.call(null,u,Ye)),x(u,"longmouseover",t[13]),x(u,"longmouseout",t[15]),x(u,"mouseover",t[14]),x(u,"mouseout",t[16]),x(u,"focus",t[17]),x(u,"blur",t[17])],_=!0)},p(t,r){let a=o;if(o=T(t),o===a?M[o].p(t,r):(G(),X(M[a],1,1,(()=>{M[a]=null})),Y(),i=M[o],i?i.p(t,r):(i=M[o]=N[o](t),i.c()),V(i,1),i.m(n,null)),(!k||1024&r[0])&&$(e,"top",t[10]+"px"),(!k||512&r[0])&&$(e,"left",t[9]+"px"),t[1]?A?(A.p(t,r),2&r[0]&&V(A,1)):(A=Fe(t),A.c(),V(A,1),A.m(u,h)):A&&(G(),X(A,1,1,(()=>{A=null})),Y()),224&r[0]){let e;for(S=Z(t[5]),e=0;e<S.length;e+=1){const n=Ae(t,S,e);C[e]?(C[e].p(n,r),V(C[e],1)):(C[e]=Be(n),C[e].c(),V(C[e],1),C[e].m(u,b))}for(G(),e=S.length;e<C.length;e+=1)R(e);Y()}null!==t[4]?L?(L.p(t,r),16&r[0]&&V(L,1)):(L=We(t),L.c(),V(L,1),L.m(u,w)):L&&(G(),X(L,1,1,(()=>{L=null})),Y()),!1===t[0]?D||(D=qe(),D.c(),D.m(u,null)):D&&(D.d(1),D=null)},i(t){if(!k){V(i),V(A);for(let t=0;t<S.length;t+=1)V(C[t]);V(L),k=!0}},o(t){X(i),X(A),C=C.filter(Boolean);for(let t=0;t<C.length;t+=1)X(C[t]);X(L),k=!1},d(n){n&&(f(e),f(a),f(l)),M[o].d(),t[28](null),A&&A.d(),m(C,n),L&&L.d(),D&&D.d(),_=!1,r(E)}}}const Ye=200;function Ve(t,e,n){let{textComponents:r}=e,{tokenDetails:o}=e,{isCompleted:i}=e,{isError:a}=e,{requireFullReplay:l=!1}=e,{bgField:s="Token"}=e,{underlineField:c="Probability"}=e,u=t=>"",d=t=>"";const p=t=>{const e=(t=>{const e=t.match(/rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)/);return e?.299*parseInt(e[1],10)+.587*parseInt(e[2],10)+.114*parseInt(e[3],10):(console.error("Invalid RGBA format."),0)})(t);return e>186?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)"},f=(t,e)=>{if(void 0===t)return"";let n=Me(t);return`background-color: ${n}; color: ${p(n)};`},m=(t,e)=>{if(void 0===t)return"";return`border-bottom-color: ${Te(.7*t)};`},g=t=>{let e="";return t.is_input?e="rgba(255, 255, 255, 0)":t.is_force_forwarded?e="rgba(243, 244, 246, 1)":t.is_generated?e="rgba(229, 231, 235, 1)":(console.log(`ERROR: token ${t.text} does not have emit flags.`),e="rgba(255, 255, 255, 0)"),`background-color: ${e};`},h=(t,e,n,r)=>{let o=!1,i=!1;return t<=n&&e-1>=n?o=!0:t<=r-1&&e>=r?(o=!0,i=!0):t>=n&&e<=r&&(o=!0),[o,i]};let b,y,w=null,x=[],v=[],k=[],_=new Set,$={},E=0,N={},M=0,T=0;let A="",S="";return t.$$set=t=>{"textComponents"in t&&n(20,r=t.textComponents),"tokenDetails"in t&&n(21,o=t.tokenDetails),"isCompleted"in t&&n(0,i=t.isCompleted),"isError"in t&&n(22,a=t.isError),"requireFullReplay"in t&&n(1,l=t.requireFullReplay),"bgField"in t&&n(2,s=t.bgField),"underlineField"in t&&n(3,c=t.underlineField)},t.$$.update=()=>{if(267386941&t.$$.dirty[0]){for(0===r.length&&(n(5,x=[]),n(23,v=[]),n(24,k=[]),_.clear(),n(25,$={}),n(26,E=0));E<r.length;n(26,E+=1)){const t=r[E];if(it(t))v.push(t),k.push(t.closer_text||"");else if(at(t))if(0===v.length)if(0!==k.length&&k[k.length-1]===t.value){const e={text:t.value,prob:1,latency_ms:0,role:"",special:!0,is_input:t.is_input,is_force_forwarded:t.is_force_forwarded,is_generated:t.is_generated};_.add(e.text),x.push(e),k.pop()}else{const e={text:t.value,prob:1,latency_ms:0,role:"",special:!1,is_input:t.is_input,is_force_forwarded:t.is_force_forwarded,is_generated:t.is_generated};x.push(e)}else{const e=v[v.length-1];e.text&&e.text!==t.value&&console.log(`Active role text does not match next text output: ${e.text} - ${t.value}`);const r={text:t.value,prob:1,latency_ms:0,role:e.name||"",special:!0,is_input:t.is_input,is_force_forwarded:t.is_force_forwarded,is_generated:t.is_generated};""!==r.role&&n(25,$[t.value]=r.role,$),_.add(r.text),x.push(r),v.pop()}else lt(t)&&null===w&&n(4,w=t)}0!==v.length||k.length;if(o.length>0){const t=function(t,e){const n=[];for(const r of e){let e=0;for(;-1!==(e=t.indexOf(r,e));)n.push([e,e+r.length,r]),e+=r.length}return n.sort(((t,e)=>t[0]===e[0]?t[1]-e[1]:t[0]-e[0])),n}(o.map((t=>t.text)).join(""),Array.from(_));n(5,x=[]);let e=0,r=0,i=!1;for(const a of o){e=r,r=e+a.text.length;let o=!1,l="";if(t.length>0){let[n,a,s]=t[0];e>=a&&(t.shift(),t.length>0&&([n,a,s]=t[0]));let[c,u]=h(e,r,n,a);if(c){if(Object.keys($).includes(s)&&(i||(l=$[s],i=!0)),t.length>1){let[n,o,a]=t[1];const[s,c]=h(e,r,n,o);s&&Object.keys($).includes(a)&&(l=$[a],i=!0,u=!1)}u||(o=!0)}else i=!1}const s={text:a.text,prob:a.prob,latency_ms:a.latency_ms,role:l,special:o,is_input:a.is_input,is_force_forwarded:a.is_force_forwarded,is_generated:a.is_generated,top_k:a.top_k};n(27,N["latency.max"]=Math.max(s.latency_ms,N["latency.max"]||0),N),x.push(s)}}n(6,u=!i||a?t=>"border: none;":"Probability"===c?t=>m(t.prob):"Latency (ms)"===c?t=>m(Math.log(t.latency_ms)/Math.log(N["latency.max"])):t=>"border: none;"),!i||a||"Type"===s?n(7,d=t=>g(t)):"Probability"===s?n(7,d=t=>f(t.prob)):"Latency (ms)"===s?(n(7,d=t=>f(Math.log(t.latency_ms)/Math.log(N["latency.max"]))),console.log(N["latency.max"])):n(7,d=t=>""),n(0,i),n(20,r),n(37,_),n(26,E),n(23,v),n(24,k),n(5,x),n(4,w),n(21,o),n(25,$),n(27,N),n(22,a),n(3,c),n(2,s),n(22,a),n(20,r),n(37,_),n(26,E),n(23,v),n(24,k),n(5,x),n(4,w),n(21,o),n(25,$),n(27,N),n(0,i),n(3,c),n(2,s),n(21,o),n(20,r),n(37,_),n(26,E),n(23,v),n(24,k),n(5,x),n(4,w),n(25,$),n(27,N),n(0,i),n(22,a),n(3,c),n(2,s),n(20,r),n(37,_),n(26,E),n(23,v),n(24,k),n(5,x),n(4,w),n(21,o),n(25,$),n(27,N),n(0,i),n(22,a),n(3,c),n(2,s),n(5,x),n(20,r),n(37,_),n(26,E),n(23,v),n(24,k),n(4,w),n(21,o),n(25,$),n(27,N),n(0,i),n(22,a),n(3,c),n(2,s)}},[i,l,s,c,w,x,u,d,b,M,T,y,(t,e)=>{if("Probability"===e)return t.prob.toFixed(3);if("Latency (ms)"===e)return t.latency_ms.toFixed(0);if("Type"===e){if(t.is_input)return"Input";if(t.is_force_forwarded)return"Forwarded";if(t.is_generated)return"Generated"}else if("None"===e)return""},t=>{const e=t.detail.target;if(e.matches(".token-grid-item")){const t=e.dataset.index,r=15,o=10,i=e.getBoundingClientRect();n(9,M=i.left+window.scrollX+i.width/2+r),n(10,T=i.bottom+window.scrollY+o),n(8,b.style.display="block",b);const a=Number(t);n(11,y=x[a]),M+b.offsetWidth>window.innerWidth&&n(9,M=window.innerWidth-b.offsetWidth),T+b.offsetHeight>window.innerHeight&&n(10,T=window.innerHeight-b.offsetHeight)}},t=>{var e;const n=t.target;if(n.matches(".token-grid-item")){const t=n.dataset.index,r=null===(e=n.parentElement)||void 0===e?void 0:e.querySelectorAll(`.token-grid-item[data-index="${t}"]`);if(r)for(const t of r){const e=t;A=e.style.color,S=e.style.backgroundColor,e.style.color="rgb(249, 250, 251)",e.style.backgroundColor="rgb(75, 85, 99)"}}},t=>{t.detail.target.matches(".token-grid-item")&&n(8,b.style.display="none",b)},t=>{var e;const n=t.target;if(n.matches(".token-grid-item")){const t=n.dataset.index,r=null===(e=n.parentElement)||void 0===e?void 0:e.querySelectorAll(`.token-grid-item[data-index="${t}"]`);if(r)for(const t of r){const e=t;e.style.color=A,e.style.backgroundColor=S}}},t=>{},t=>Tt.sanitize(t.replaceAll(" ","&nbsp;").replaceAll("\t","\\t").replaceAll("\n","\\n")),{text:"...",prob:1,latency_ms:0,role:"",special:!1,is_input:!0,is_force_forwarded:!1,is_generated:!0},r,o,a,v,k,$,E,N,function(t){D[t?"unshift":"push"]((()=>{b=t,n(8,b)}))}]}class Xe extends nt{constructor(t){super(),et(this,t,Ve,Ge,i,{textComponents:20,tokenDetails:21,isCompleted:0,isError:22,requireFullReplay:1,bgField:2,underlineField:3},null,[-1,-1])}}function Ze(t){let e,n=null;return S((()=>{e=document.querySelector("html"),window.addEventListener("load",(()=>{n=setInterval((()=>{const t=e.getBoundingClientRect().height;if(0!==t&&e.checkVisibility()){const e={type:"resize",content:{height:`${t}px`,width:"100%"}};ct.set(e)}}),20)}))})),C((()=>{clearInterval(n)})),[]}class Je extends nt{constructor(t){super(),et(this,t,Ze,null,i,{})}}const{window:Ke}=u;function Qe(e){let n,r;return{c:t,m(t,o){n||(r=x(Ke,"message",e[0]),n=!0)},p:t,i:t,o:t,d(t){n=!1,r()}}}function tn(t){let e=null;return S((()=>{e=ct.subscribe((t=>{void 0!==t&&window.parent.postMessage(t,"*")}))})),C((()=>{e&&e()})),[t=>{if(t.source===window.parent&&"type"in t.data&&"kernelmsg"===t.data.type){let e=t.data;st.set(e)}}]}class en extends nt{constructor(t){super(),et(this,t,tn,Qe,i,{})}}function nn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rn(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function on(t){let e,n,r;function o(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<0?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=nn,n=(e,n)=>nn(t(e),n),r=(e,n)=>t(e)-n):(e=t===nn||t===rn?t:an,n=t,r=t),{left:o,center:function(t,e,n=0,i=t.length){const a=o(t,e,n,i-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<=0?o=e+1:i=e}while(o<i)}return o}}}function an(){return 0}const ln=on(nn).right;on((function(t){return null===t?NaN:+t})).center;const sn=Math.sqrt(50),cn=Math.sqrt(10),un=Math.sqrt(2);function dn(t,e,n){const r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=sn?10:i>=cn?5:i>=un?2:1;let l,s,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(t*c),s=Math.round(e*c),l/c<t&&++l,s/c>e&&--s,c=-c):(c=Math.pow(10,o)*a,l=Math.round(t/c),s=Math.round(e/c),l*c<t&&++l,s*c>e&&--s),s<l&&.5<=n&&n<2?dn(t,e,2*n):[l,s,c]}function pn(t,e,n){return dn(t=+t,e=+e,n=+n)[2]}function fn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function mn(t){return+t}var gn=[0,1];function hn(t){return t}function bn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function yn(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=bn(o,r),i=n(a,i)):(r=bn(r,o),i=n(i,a)),function(t){return i(r(t))}}function wn(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=bn(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=ln(t,e,1,r)-1;return i[n](o[n](e))}}function xn(){var t,e,n,r,o,i,a=gn,l=gn,s=$e,c=hn;function u(){var t,e,n,s=Math.min(a.length,l.length);return c!==hn&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?wn:yn,o=i=null,d}function d(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),l,s)))(t(c(e)))}return d.invert=function(n){return c(e((i||(i=r(l,a.map(t),we)))(n)))},d.domain=function(t){return arguments.length?(a=Array.from(t,mn),u()):a.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),s=Ee,u()},d.clamp=function(t){return arguments.length?(c=!!t||hn,u()):c!==hn},d.interpolate=function(t){return arguments.length?(s=t,u()):s},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function vn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kn(t){return(t=vn(Math.abs(t)))?t[1]:NaN}var _n,$n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function En(t){if(!(e=$n.exec(t)))throw new Error("invalid format: "+t);var e;return new Nn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Nn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Mn(t,e){var n=vn(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}En.prototype=Nn.prototype,Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Tn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Mn(100*t,e),r:Mn,s:function(t,e){var n=vn(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(_n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+vn(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function An(t){return t}var Sn,Cn,Rn,Ln=Array.prototype.map,Dn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function On(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?An:(e=Ln.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(t.substring(o-=l,o+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?An:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ln.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=En(t)).fill,n=t.align,d=t.sign,p=t.symbol,f=t.zero,m=t.width,g=t.comma,h=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Tn[y]||(void 0===h&&(h=12),b=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var w="$"===p?o:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===p?i:/[%p]/.test(y)?s:"",v=Tn[y],k=/[defgprs%]/.test(y);function _(t){var o,i,s,p=w,_=x;if("c"===y)_=v(t)+_,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:v(Math.abs(t),h),b&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),$&&0==+t&&"+"!==d&&($=!1),p=($?"("===d?d:c:"-"===d||"("===d?"":d)+p,_=("s"===y?Dn[8+_n/3]:"")+_+($&&"("===d?")":""),k)for(o=-1,i=t.length;++o<i;)if(48>(s=t.charCodeAt(o))||s>57){_=(46===s?a+t.slice(o+1):t.slice(o))+_,t=t.slice(0,o);break}}g&&!f&&(t=r(t,1/0));var E=p.length+t.length+_.length,N=E<m?new Array(m-E+1).join(e):"";switch(g&&f&&(t=r(N+t,N.length?m-_.length:1/0),N=""),n){case"<":t=p+t+_+N;break;case"=":t=p+N+t+_;break;case"^":t=N.slice(0,E=N.length>>1)+p+t+_+N.slice(E);break;default:t=N+p+t+_}return l(t)}return h=void 0===h?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),_.toString=function(){return t+""},_}return{format:d,formatPrefix:function(t,e){var n=d(((t=En(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(kn(e)/3))),o=Math.pow(10,-r),i=Dn[8+r/3];return function(t){return n(o*t)+i}}}}function In(t,e,n,r){var o,i=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),o=r?pn(e,t,n):pn(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}(t,e,n);switch((r=En(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kn(e)/3)))-kn(Math.abs(t)))}(i,a))||(r.precision=o),Rn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kn(e)-kn(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-kn(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Cn(r)}function zn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[o,i,a]=r?dn(e,t,n):dn(t,e,n);if(!(i>=o))return[];const l=i-o+1,s=new Array(l);if(r)if(a<0)for(let t=0;t<l;++t)s[t]=(i-t)/-a;else for(let t=0;t<l;++t)s[t]=(i-t)*a;else if(a<0)for(let t=0;t<l;++t)s[t]=(o+t)/-a;else for(let t=0;t<l;++t)s[t]=(o+t)*a;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return In(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,l=i.length-1,s=i[a],c=i[l],u=10;for(c<s&&(o=s,s=c,c=o,o=a,a=l,l=o);u-- >0;){if((o=pn(s,c,n))===r)return i[a]=s,i[l]=c,e(i);if(o>0)s=Math.floor(s/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;s=Math.ceil(s*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function Fn(){var t=xn()(hn,hn);return t.copy=function(){return e=t,Fn().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},fn.apply(t,arguments),zn(t)}function Pn(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function Un(t){let e,n,r,o,i;return{c(){e=h("rect"),v(e,"x",n=t[7](t[14])),v(e,"y",r=t[6](Math.max(t[12],jn))),v(e,"width",o=t[5]-1),v(e,"height",i=t[6](0)-t[6](Math.max(t[12],jn))),v(e,"class",t[1])},m(t,n){p(t,e,n)},p(t,a){128&a&&n!==(n=t[7](t[14]))&&v(e,"x",n),80&a&&r!==(r=t[6](Math.max(t[12],jn)))&&v(e,"y",r),32&a&&o!==(o=t[5]-1)&&v(e,"width",o),80&a&&i!==(i=t[6](0)-t[6](Math.max(t[12],jn)))&&v(e,"height",i),2&a&&v(e,"class",t[1])},d(t){t&&f(e)}}}function Hn(e){let n,r,o,i,a=Z(e[4]),l=[];for(let t=0;t<a.length;t+=1)l[t]=Un(Pn(e,a,t));return{c(){n=g("div"),r=h("svg"),o=h("g");for(let t=0;t<l.length;t+=1)l[t].c();v(r,"class",e[0]),v(n,"class","flex items-center"),P((()=>e[11].call(n)))},m(t,a){p(t,n,a),d(n,r),d(r,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(o,null);i=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=g("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=M();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=x(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=x(n.contentWindow,"resize",e),e()}),d(t,n),()=>{(r||o&&n.contentWindow)&&o(),f(n)}}(n,e[11].bind(n))},p(t,[e]){if(242&e){let n;for(a=Z(t[4]),n=0;n<a.length;n+=1){const r=Pn(t,a,n);l[n]?l[n].p(r,e):(l[n]=Un(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}1&e&&v(r,"class",t[0])},i:t,o:t,d(t){t&&f(n),m(l,t),i()}}}Sn=On({thousands:",",grouping:[3],currency:["$",""]}),Cn=Sn.format,Rn=Sn.formatPrefix;let jn=.05;function Bn(t,e,n){let r,o,i,a,l,{values:s}=e,{svgClass:c}=e,{rectClass:u}=e,{padding:d={left:0,right:0,top:0,bottom:0}}=e,p=0,f=0;return t.$$set=t=>{"values"in t&&n(8,s=t.values),"svgClass"in t&&n(0,c=t.svgClass),"rectClass"in t&&n(1,u=t.rectClass),"padding"in t&&n(9,d=t.padding)},t.$$.update=()=>{256&t.$$.dirty&&n(4,r=s),536&t.$$.dirty&&n(7,o=Fn().domain([0,r.length]).range([0,f-d.right])),516&t.$$.dirty&&n(6,i=Fn().domain([0,1]).range([p-d.bottom,d.top])),520&t.$$.dirty&&n(10,a=f-(d.left+d.right)),1040&t.$$.dirty&&n(5,l=a/r.length)},[c,u,p,f,r,l,i,o,s,d,a,function(){p=this.clientHeight,f=this.clientWidth,n(2,p),n(3,f)}]}class Wn extends nt{constructor(t){super(),et(this,t,Bn,Hn,i,{values:8,svgClass:0,rectClass:1,padding:9})}}function qn(e){let n,r,o,i,a=e[0].units+"";return{c(){n=g("div"),r=b(e[1]),o=g("span"),i=b(a),v(o,"class","text-xs pl-1"),v(n,"class","min-w-12 text-center text-lg text-gray-700 group-hover:text-gray-100")},m(t,e){p(t,n,e),d(n,r),d(n,o),d(o,i)},p(t,e){2&e&&k(r,t[1]),1&e&&a!==(a=t[0].units+"")&&k(i,a)},i:t,o:t,d(t){t&&f(n)}}}function Gn(e){let n,r,o,i,a=e[1].toFixed(e[0].precision)+"",l=e[0].units+"";return{c(){n=g("div"),r=b(a),o=g("span"),i=b(l),v(o,"class","text-xs pl-1"),v(n,"class","min-w-12 text-center text-lg text-gray-700 group-hover:text-gray-100")},m(t,e){p(t,n,e),d(n,r),d(n,o),d(o,i)},p(t,e){3&e&&a!==(a=t[1].toFixed(t[0].precision)+"")&&k(r,a),1&e&&l!==(l=t[0].units+"")&&k(i,l)},i:t,o:t,d(t){t&&f(n)}}}function Yn(t){let e,n;return e=new Wn({props:{values:t[1],svgClass:"w-12 h-6",rectClass:"fill-gray-700 group-hover:fill-gray-100",padding:t[2]}}),{c(){J(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.values=t[1]),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Vn(t){let e,n,r,o,i,a,l,s=t[0].name+"";const c=[Yn,Gn,qn],u=[];function m(t,e){return t[1].constructor===Array?0:"number"==typeof t[1]?1:2}return i=m(t),a=u[i]=c[i](t),{c(){e=g("div"),n=g("div"),r=b(s),o=y(),a.c(),v(n,"class","uppercase tracking-wider text-xs text-gray-500 group-hover:text-gray-100 whitespace-nowrap"),v(e,"class","flex flex-col items-center py-1 px-4 hover:bg-gray-700 group")},m(t,a){p(t,e,a),d(e,n),d(n,r),d(e,o),u[i].m(e,null),l=!0},p(t,[n]){(!l||1&n)&&s!==(s=t[0].name+"")&&k(r,s);let o=i;i=m(t),i===o?u[i].p(t,n):(G(),X(u[o],1,1,(()=>{u[o]=null})),Y(),a=u[i],a?a.p(t,n):(a=u[i]=c[i](t),a.c()),V(a,1),a.m(e,null))},i(t){l||(V(a),l=!0)},o(t){X(a),l=!1},d(t){t&&f(e),u[i].d()}}}function Xn(t,e,n){let{metricDef:r}=e,{value:o}=e;return t.$$set=t=>{"metricDef"in t&&n(0,r=t.metricDef),"value"in t&&n(1,o=t.value)},[r,o,{left:0,right:0,top:4,bottom:0}]}class Zn extends nt{constructor(t){super(),et(this,t,Xn,Vn,i,{metricDef:0,value:1})}}function Jn(t){var e=function(e){var n=e.target;t.contains(n)||t.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",e,!0),{destroy:function(){document.removeEventListener("click",e,!0)}}}function Kn(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Qn(t){let e,n=Z(t[1]),r=[];for(let e=0;e<n.length;e+=1)r[e]=tr(Kn(t,n,e));return{c(){e=g("ul");for(let t=0;t<r.length;t+=1)r[t].c();v(e,"role","listbox"),v(e,"class","absolute pt-2 pb-3 z-10 mt-1 bg-white shadow border border-gray-300")},m(t,n){p(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,o){if(66&o){let i;for(n=Z(t[1]),i=0;i<n.length;i+=1){const a=Kn(t,n,i);r[i]?r[i].p(a,o):(r[i]=tr(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&f(e),m(r,t)}}}function tr(t){let e,n,o,i,a=t[10]+"";function l(...e){return t[8](t[10],...e)}return{c(){e=g("li"),n=b(a),v(e,"class",`w-full px-4 py-1 ${0===t[12]?"mt-1":""} hover:bg-gray-700 hover:text-white text-nowrap`),v(e,"role","option"),v(e,"aria-selected","false")},m(t,r){p(t,e,r),d(e,n),o||(i=[x(e,"click",l),x(e,"keypress",nr)],o=!0)},p(e,r){t=e,2&r&&a!==(a=t[10]+"")&&k(n,a)},d(t){t&&f(e),o=!1,r(i)}}}function er(e){let n,o,i,a,l,s,u,m,w,_,$,E,N=e[3]&&Qn(e);return{c(){n=g("div"),o=g("button"),i=g("span"),a=g("span"),l=b(e[2]),s=y(),u=h("svg"),m=h("path"),_=y(),N&&N.c(),v(a,"class",""),v(m,"fill-rule","evenodd"),v(m,"d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"),v(m,"clip-rule","evenodd"),v(u,"xmlns","http://www.w3.org/2000/svg"),v(u,"viewBox","0 0 16 16"),v(u,"fill","currentColor"),v(u,"class","size-4"),v(i,"class",w=`mr-4 inline-flex justify-between items-center hover:bg-gray-700 hover:text-white ${e[0]}`),v(n,"class","relative")},m(t,r){p(t,n,r),d(n,o),d(o,i),d(i,a),d(a,l),d(i,s),d(i,u),d(u,m),d(n,_),N&&N.m(n,null),$||(E=[c(Jn.call(null,o)),x(o,"click",e[4]),c(Jn.call(null,n)),x(n,"outclick",e[5])],$=!0)},p(t,[e]){4&e&&k(l,t[2]),1&e&&w!==(w=`mr-4 inline-flex justify-between items-center hover:bg-gray-700 hover:text-white ${t[0]}`)&&v(i,"class",w),t[3]?N?N.p(t,e):(N=Qn(t),N.c(),N.m(n,null)):N&&(N.d(1),N=null)},i:t,o:t,d(t){t&&f(n),N&&N.d(),$=!1,r(E)}}}const nr=t=>{};function rr(t,e,n){let{classes:r=""}=e,{values:o=[]}=e,{defaultValue:i=""}=e,a=i,l=!1;const s=R(),c=t=>{n(2,a=t),n(3,l=!1),s("select",a)};return t.$$set=t=>{"classes"in t&&n(0,r=t.classes),"values"in t&&n(1,o=t.values),"defaultValue"in t&&n(7,i=t.defaultValue)},[r,o,a,l,t=>{n(3,l=!l)},t=>{n(3,l=!1)},c,i,(t,e)=>c(t)]}class or extends nt{constructor(t){super(),et(this,t,rr,er,i,{classes:0,values:1,defaultValue:7})}}function ir(t,e,n){const r=t.slice();return r[16]=e[n][0],r[17]=e[n][1],r}function ar(t){let e,n,r,o=Z(Object.entries(t[2])),i=[];for(let e=0;e<o.length;e+=1)i[e]=lr(ir(t,o,e));const a=t=>X(i[t],1,1,(()=>{i[t]=null}));return{c(){e=g("section"),n=g("div");for(let t=0;t<i.length;t+=1)i[t].c();v(n,"class","pl-2 flex"),v(e,"class","w-full flex bg-gray-100 border-b border-gray-200 text-gray-500 justify-between")},m(t,o){p(t,e,o),d(e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,null);r=!0},p(t,e){if(516&e){let r;for(o=Z(Object.entries(t[2])),r=0;r<o.length;r+=1){const a=ir(t,o,r);i[r]?(i[r].p(a,e),V(i[r],1)):(i[r]=lr(a),i[r].c(),V(i[r],1),i[r].m(n,null))}for(G(),r=o.length;r<i.length;r+=1)a(r);Y()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)V(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)X(i[t]);r=!1},d(t){t&&f(e),m(i,t)}}}function lr(t){let e,n;return e=new Zn({props:{value:t[17],metricDef:t[9][t[16]]}}),{c(){J(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.value=t[17]),4&n&&(r.metricDef=t[9][t[16]]),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function sr(t){let e,n,r;return{c(){e=h("svg"),n=h("path"),r=h("path"),v(n,"fill-rule","evenodd"),v(n,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),v(n,"clip-rule","evenodd"),v(r,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 16 16"),v(e,"fill","currentColor"),v(e,"class","size-3")},m(t,o){p(t,e,o),d(e,n),d(e,r)},d(t){t&&f(e)}}}function cr(t){let e,n,r;return{c(){e=h("svg"),n=h("path"),r=h("path"),v(n,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),v(r,"fill-rule","evenodd"),v(r,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),v(r,"clip-rule","evenodd"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 0 16 16"),v(e,"fill","currentColor"),v(e,"class","size-3")},m(t,o){p(t,e,o),d(e,n),d(e,r)},d(t){t&&f(e)}}}function ur(t){let e,n,o,i,a,l,s,c,u,m,h,b,w,k,_,$,E,N,M,T,A,S,C,R;o=new en({}),a=new Je({});let L=t[6]&&ar(t);function D(t,e){return t[6]?cr:sr}let O=D(t),I=O(t);return $=new or({props:{values:["None","Type","Probability","Latency (ms)"],classes:"bg-gray-200",defaultValue:"Type"}}),$.$on("select",t[14]),N=new or({props:{values:["None","Probability","Latency (ms)"],classes:"border-b-2 border-gray-400",defaultValue:"Probability"}}),N.$on("select",t[15]),A=new Xe({props:{textComponents:t[0],tokenDetails:t[3],isCompleted:t[4],isError:t[5],bgField:t[7],underlineField:t[8],requireFullReplay:t[1]}}),{c(){e=g("meta"),n=y(),J(o.$$.fragment),i=y(),J(a.$$.fragment),l=y(),s=g("div"),c=g("nav"),L&&L.c(),u=y(),m=g("section"),h=g("div"),b=g("div"),w=g("span"),w.textContent="Metrics",k=y(),I.c(),_=y(),J($.$$.fragment),E=y(),J(N.$$.fragment),M=y(),T=g("section"),J(A.$$.fragment),document.title="graphpaper",v(e,"name","description"),v(e,"content","graphpaper"),v(w,"class","text-xs inline-flex flex-col justify-center uppercase tracking-wider"),v(b,"class","ml-4 mr-4 inline-flex justify-between items-center hover:bg-gray-700 hover:text-white"),v(b,"tabindex","-1"),v(b,"role","button"),v(h,"class","text-sm pt-2 pb-2 flex border-b border-gray-200"),v(c,"class","sticky top-0 z-50 opacity-90"),v(T,"class","w-full"),v(s,"class","w-full min-h-72")},m(r,f){d(document.head,e),p(r,n,f),K(o,r,f),p(r,i,f),K(a,r,f),p(r,l,f),p(r,s,f),d(s,c),L&&L.m(c,null),d(c,u),d(c,m),d(m,h),d(h,b),d(b,w),d(b,k),I.m(b,null),d(h,_),K($,h,null),d(h,E),K(N,h,null),d(s,M),d(s,T),K(A,T,null),S=!0,C||(R=[x(b,"click",t[10]),x(b,"keydown",t[11])],C=!0)},p(t,[e]){t[6]?L?(L.p(t,e),64&e&&V(L,1)):(L=ar(t),L.c(),V(L,1),L.m(c,u)):L&&(G(),X(L,1,1,(()=>{L=null})),Y()),O!==(O=D(t))&&(I.d(1),I=O(t),I&&(I.c(),I.m(b,null)));const n={};1&e&&(n.textComponents=t[0]),8&e&&(n.tokenDetails=t[3]),16&e&&(n.isCompleted=t[4]),32&e&&(n.isError=t[5]),128&e&&(n.bgField=t[7]),256&e&&(n.underlineField=t[8]),2&e&&(n.requireFullReplay=t[1]),A.$set(n)},i(t){S||(V(o.$$.fragment,t),V(a.$$.fragment,t),V(L),V($.$$.fragment,t),V(N.$$.fragment,t),V(A.$$.fragment,t),S=!0)},o(t){X(o.$$.fragment,t),X(a.$$.fragment,t),X(L),X($.$$.fragment,t),X(N.$$.fragment,t),X(A.$$.fragment,t),S=!1},d(t){t&&(f(n),f(i),f(l),f(s)),f(e),Q(o,t),Q(a,t),L&&L.d(),I.d(),Q($),Q(N),Q(A),C=!1,r(R)}}}function dr(t,e,n){let r,o;s(t,st,(t=>n(13,r=t)));let i=[],a=[],l=!1,c=!1,u=!0,d=!0,p="Type",f="Probability";const m={status:{name:"status",units:"",description:"Determines whether engine is running, completed or in error.",isScalar:!0,precision:0},cpu:{name:"cpu",units:"%",description:"Average utilization across CPU cores.",isScalar:!1,precision:1},gpu:{name:"gpu",units:"%",description:"Average utilization across GPUs.",isScalar:!1,precision:1},ram:{name:"ram",units:"GB",description:"Utilization of RAM.",isScalar:!0,precision:1},vram:{name:"vram",units:"GB",description:"Utilization of video RAM.",isScalar:!0,precision:1},"wall time":{name:"wall time",units:"s",description:"Time taken from initial display to engine completion.",isScalar:!0,precision:1},"avg latency":{name:"avg latency",units:"ms",description:"Average roundtrip latency per token",isScalar:!0,precision:0},consumed:{name:"consumed",units:"tkn",description:"Total tokens consumed by language model.",isScalar:!0,precision:0},"token reduction":{name:"token reduction",units:"%",description:"Total tokens consumed by language model divided by total tokens.",isScalar:!0,precision:0}},g={status:"⟳",cpu:[0,0,0,0,0],ram:0,"wall time":0,"avg latency":0,consumed:0,"token reduction":0};S((()=>{const t={type:"clientmsg",content:JSON.stringify({class_name:"ClientReadyMessage"})};ct.set(t)}));return t.$$.update=()=>{if(12295&t.$$.dirty&&void 0!==r){if(""!==r.content)n(12,o=JSON.parse(r.content)),null!=(e=o)&&"TraceMessage"===e.class_name?at(o.node_attr)||it(o.node_attr)?i.push(o.node_attr):!function(t){return null!=t&&"RoleCloserInput"===t.class_name}(o.node_attr)?lt(o.node_attr)?(console.log("Audio available."),i.push(o.node_attr)):function(t){return null!=t&&"ImageOutput"===t.class_name}(o.node_attr)&&(console.log("Image available."),i.push(o.node_attr)):i.push(o.node_attr):function(t){return null!=t&&"VideoOutput"===t.class_name}(o.node_attr)&&(console.log("Video available."),i.push(o.node_attr));else if(function(t){return null!=t&&"ExecutionStartedMessage"===t.class_name}(o))n(1,d=!1);else if(function(t){return null!=t&&"ClientReadyAckMessage"===t.class_name}(o)){if(d){console.log("Require full replay and went past completion output message.");const t={type:"clientmsg",content:JSON.stringify({class_name:"OutputRequestMessage"})};ct.set(t)}}else if(function(t){return null!=t&&"ResetDisplayMessage"===t.class_name}(o))n(0,i=[]),n(4,l=!1);else if(function(t){return null!=t&&"MetricMessage"===t.class_name}(o)){const t=o.name,e=o.value;if(t in g&&t in m){let r=g[t];const o=m[t];!1===o.isScalar?e.constructor===Array?n(2,g[t]=e,g):n(2,g[t]=[...r.slice(1),e],g):!0===o.isScalar?n(2,g[t]=e,g):console.log(`Cannot handle metric: ${t}: ${e}.`),"status"===t&&n(5,c="⚠"===e)}}else!function(t){return null!=t&&"ExecutionCompletedMessage"===t.class_name}(o)?function(t){return null!=t&&"TokensMessage"===t.class_name}(o)&&(n(1,d=!1),n(4,l=!0),n(3,a=o.tokens),console.log(i),console.log(o.tokens)):n(4,l=!0);n(0,i),n(13,r),n(12,o),n(1,d),n(2,g)}var e},[i,d,g,a,l,c,u,p,f,m,t=>{n(6,u=!u)},t=>{},o,r,t=>n(7,p=t.detail),t=>n(8,f=t.detail)]}return new class extends nt{constructor(t){super(),et(this,t,dr,ur,i,{})}}({target:document.body})}();
</script>
</body>
</html>
